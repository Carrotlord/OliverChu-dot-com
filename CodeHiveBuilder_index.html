<!DOCTYPE html>
<html>
<head>
<!-- Welcome to the source code for OliverChu.com!
     This HTML source was all written by
     Mr. Jiangcheng Oliver Chu, by hand.           -->
<title>CodeHive Builder</title>
<!-- Global CSS -->
<link rel="stylesheet" type="text/css" href="http://www.oliverchu.com/global.css" />
<!-- Global JavaScript -->
<script type="text/javascript" src="http://www.oliverchu.com/global.js"></script>
<!-- Favicon (Website icon) -->
<link rel="shortcut icon" href="http://www.oliverchu.com/img/favicon.ico" />
<script type="text/javascript">
    Object.prototype.hasOwnProperty = function(property) {
        return typeof(this[property]) !== 'undefined'
    };
    function saveSourceCode() {
        localStorage.chb = document.getElementById("cde").value;
        window.alert("Your code has been saved.\nReturn to this webpage at any time to retrieve your code.\n\n" +
                     "We store code based on MAC address, not IP address.\nTherefore, changing your IP address should not prevent you\n" +
                     "from accessing your code using this server.\n\n" +
                     "Please contact j@oliverchu.com for information on how to\nset up a full repository with files, folders, and tags.");
    }
    function loadFile() {
        if (localStorage.hasOwnProperty("chb")) {
            document.getElementById("cde").value = localStorage.chb;
        }
    }
    function archive() {
        var formObj = document.forms["chbself"];
        formObj.elements["wasps"] = localStorage.chb;
        var choice = window.confirm("WARNING: YOU MUST SAVE YOUR DRAFT FIRST\nOR ELSE THIS WILL NOT ARCHIVE YOUR WORK." +
            "\n\nThe archive tool will store your code on the server.\n\n" +
            "You must include an email address somewhere in your\n" +
            "code comments, or else we will never be able to\n" +
            "send you your source code.\n\n" +
            "This will also delete your current draft so you can work\non a new file."
        );
        if (choice == true) {
            localStorage.chb = "# Some Python code here?";
            window.alert("Draft successfully archived.\nPress OK to finalize your saved file.");
            formObj.submit();
        } else {
            window.alert("Because you pressed CANCEL, Your draft was not saved.");
        }
    }
</script>
</head>

<body style="font-family:Verdana,Tahoma,Arial,sans-serif;font-size:0.9em;color:black;background-color:#eceee3;">
<div class="center">
<br />
<img src="http://www.oliverchu.com/img/chb.png" alt="CodeHive: Builder" /><br /><br />

<form action="index.html" method="mint-2.9" name="chbself" id="chbself">
<textarea id="cde" name="cde" cols="128" rows="64" style="-webkit-border-radius:8px 32px 8px 32px;border-radius:8px 32px 8px 32px;">
<?mint-2.9
import request
import file
import hasher

sub keyExists(someKey, someTable)
    for each entry of someTable
        when entry[0] == someKey
            return entry
    end
    return null
end

// Confused?
// In Photon Mint, you can concatenate dictionaries by
// using the plus sign.
if keyExists("client_ip_address", MINT_REQUEST + SERVER) != null
    contents = fileToStr("SPECIAL_X")
    if hash("best-choice", (MINT_REQUEST + SERVER)["client_ip_address"]) in contents
        // Use a magic string to make code text
        // more parsable.
        contents = contents.replace("[START CODE]", "```")
        contents = contents.replace("[END CODE]", "```")
        kaboomed = contents.split("```")
        for each dee of kaboomed
            if dee in (MINT_REQUEST + SERVER)["client_ip_address"]
                dee = dee.remove((MINT_REQUEST + SERVER)["client_ip_address"])
                for i = 0; i < 32; i++
                    dee = dee.replace("\n\n", "\n")
                end
                print dee + "\n(End of Current File)\n"
                break
            end
        end
    else
        print "No user with the external IP address " + (MINT_REQUEST + SERVER)["client_ip_address"]) + " exists.";
    end
end
?>
</textarea><br /><br />

<input type="button" style="-webkit-border-radius:16px;border-radius:16px;" name="queens" value="Save Draft" onclick="saveSourceCode();" />&nbsp;
<input type="button" style="-webkit-border-radius:16px;border-radius:16px;" name="hornets" value="Archive Draft Permanently" onclick="archive();" />&nbsp;
<input type="button" style="-webkit-border-radius:16px;border-radius:16px;" name="sporks" value="Fork" onclick="window.location = 'fork.php';" />
<input type="hidden" name="wasps" value="NIL" />
</form><br />
Want to make your code open source?<br />
Email it to <a href="https://accounts.google.com/ServiceLogin?service=mail&continue=https://mail.google.com/mail/?tab%3Dwm" target="_blank">j@oliverchu.com</a> and we might<br />
just feature it in the public code showcase!<br /><br />

<small>Note: The above editor is extended through JavaScript so that tabs become 4 spaces.<br />
This is usually what most programmers want, especially Python engineers.<br />
If you want a real tab, you should be able to copy and paste 1 or more tabs into the editor.</small><br /><br />

<a href="http://www.oliverchu.com/" style="cursor:hand;cursor:pointer;">Back to Main Page</a><br /><br />
<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/legalcode"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">CodeHive: Builder</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/legalcode">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License</a>.
<br /><br /><br /><br />
</div>
<script type="text/javascript">
loadFile();
</script>
<script>
document.getElementById("cde").onkeydown = function(e) {
    if (!e && event.keyCode == 9) {
        event.returnValue = false;
        insertAtCursor(document.getElementById("cde"), "    ");
    } else if (e.keyCode == 9) {
        e.preventDefault();
        insertAtCursor(document.getElementById("cde"), "    ");
     }
};
function insertAtCursor(myField, myValue) {
     /** IE9 and apparently old versions of IE support */
     if (document.selection) {
         var temp;
         myField.focus();
        sel = document.selection.createRange();
        temp = sel.text.length;
        sel.text = myValue;
        if (myValue.length == 0) {
            sel.moveStart('character', myValue.length);
            sel.moveEnd('character', myValue.length);
        } else {
            sel.moveStart('character', -myValue.length + temp);
        }
        sel.select();
     } /** Firefox and ancient custom browser support */
     else if (myField != null && (myField.selectionStart || myField.selectionStart == '0')) {
         var startPos = myField.selectionStart;
         var endPos = myField.selectionEnd;
         myField.value = myField.value.substring(0, startPos) + myValue + myField.value.substring(endPos, myField.value.length);
         myField.selectionStart = startPos + myValue.length;
         myField.selectionEnd = startPos + myValue.length;
     } else {
         /** Cool kids support: */
         myField.value += myValue;
     }
}
</script>
</body>
</html>
